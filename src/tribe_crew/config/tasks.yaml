# --- tasks.yaml ---
# This file defines the tasks and how they connect to the agents.
# The 'context' field for a task will often be the output of a previous task.
# Your main Python script will manage passing the context between tasks.

# --- Phase A & B Tasks (Debrief and Concepting Crew) ---

brief_analysis_task:
  description: >
    Analyze the client briefing document provided in '{briefing_doc_path}'.
    Identify the event type, assess the brief's completeness, and generate a list
    of clarifying questions for the client.
  expected_output: >
    A preliminary analysis report containing the event type, a completeness
    assessment, and a list of follow-up questions.
  agent: briefing_analyst

client_and_competitor_research_task:
  description: >
    Using the client's name '{client_name}' and the initial brief analysis,
    conduct in-depth research. Investigate the client's brand, values, and past events.
    Identify their main competitors in the Dutch market and analyze their recent events.
  expected_output: >
    A research summary detailing the client's profile, past events, and a
    competitive analysis with opportunities for differentiation.
  agent: market_researcher
  context:
    - brief_analysis_task

audience_analysis_task:
  description: >
    Based on the initial brief analysis and the market research, create a detailed
    profile of the target audience. Develop audience personas and analyze their needs,
    desires, and expectations within the Dutch cultural context.
  expected_output: >
    A "Target Audience Profile" document with detailed personas and analysis of
    their motivations.
  agent: audience_analyst
  context:
    - brief_analysis_task
    - client_and_competitor_research_task

debrief_synthesis_task:
  description: >
    Combine all the reports from the analysis and research tasks into one
    cohesive "Structured Debrief" document. The document must be well-organized
    and end with key strategic insights and a honed desired outcome for the event.
  expected_output: >
    A final, comprehensive "Structured Debrief" document that will serve as the
    foundation for the creative phase.
  agent: debrief_synthesizer
  context:
    - brief_analysis_task
    - client_and_competitor_research_task
    - audience_analysis_task

creative_concepting_task:
  description: >
    Using the "Structured Debrief" document, brainstorm and develop three unique
    creative directions for the event. Each direction must have a theme, a core
    engagement mechanic, and a clear rationale. Reference our company's past
    successes and brand ethos.
  expected_output: >
    A document presenting three distinct creative directions, each with a
    working title, a short description, and key features.
  agent: creative_strategist
  context:
    - debrief_synthesis_task

concept_refinement_task:
  description: >
    Take the three raw creative directions and flesh them out into compelling,
    structured proposals. For each concept, write a narrative explaining the
    attendee journey and format it cleanly for the human review team.
  expected_output: >
    A polished document containing three fully-formed event concepts, ready for
    presentation to the human creative team.
  agent: concept_refiner
  context:
    - creative_concepting_task

# --- Handover Task ---
concept_handover_task:
  description: >
    Prepare a comprehensive handover package that includes the structured debrief,
    all three refined concepts, and clear recommendations for the proposal development
    phase. This should serve as the bridge between the concepting and proposal phases.
  expected_output: >
    A complete handover document that includes: 1) The structured debrief summary,
    2) All three refined concepts with detailed descriptions, 3) Strategic recommendations
    for proposal development, 4) Key insights and considerations for the selected concept.
  agent: debrief_synthesizer
  context:
    - debrief_synthesis_task
    - concept_refinement_task

# --- Phase D Tasks (Proposal Development Crew) ---
# This crew would be initiated after the human-in-the-loop step.
# The input would be the '{selected_concept}' and '{human_feedback}'.

visual_development_task:
  description: >
    Based on the selected concept '{selected_concept}', the concept handover package,
    and feedback '{human_feedback}', develop a visual identity and mood board that 
    captures the event's essence. Use the strategic insights from the debrief to inform
    your visual direction.
  expected_output: >
    A comprehensive visual development package including: 1) A detailed mood board,
    2) Visual identity guidelines, 3) Color palette and typography recommendations,
    4) Visual concept rationale tied to the strategic brief.
  agent: art_director
  context:
    - concept_handover_task

copywriting_task:
  description: >
    Write the client-facing copy for the pitch document. The copy should be persuasive
    and clearly articulate the vision and value of the selected concept '{selected_concept}'.
    Incorporate the feedback '{human_feedback}' and leverage insights from the concept
    handover package to ensure messaging alignment.
  expected_output: >
    Complete copywriting package including: 1) Executive summary, 2) Concept description
    and narrative, 3) Key messaging and value propositions, 4) Call-to-action and next steps.
  agent: copywriter
  context:
    - concept_handover_task

production_planning_task:
  description: >
    Create a comprehensive production plan for the selected concept '{selected_concept}'.
    Use the strategic insights from the concept handover package to outline a detailed
    timeline, budget considerations, and key logistical requirements. Incorporate any
    specific feedback '{human_feedback}'.
  expected_output: >
    A detailed production planning document including: 1) Project timeline with key milestones,
    2) Budget framework and cost considerations, 3) Logistical requirements and venue considerations,
    4) Risk assessment and mitigation strategies, 5) Team and vendor requirements.
  agent: event_producer
  context:
    - concept_handover_task

final_pitch_assembly_task:
  description: >
    Assemble all contributions from the Art Director, Copywriter, and Producer into
    a single, polished "Commercial Pitch Document". Ensure the document is cohesive,
    professional, and ready for the Project Director's final review. Include executive
    summary, concept overview, visual elements, and implementation plan.
  expected_output: >
    A complete, client-ready pitch document with: 1) Executive summary, 2) Strategic
    foundation (from handover), 3) Creative concept presentation, 4) Visual identity
    and mood board, 5) Implementation timeline and budget overview, 6) Next steps and
    call-to-action. Document should be presentation-ready and professionally formatted.
  agent: proposal_manager
  context:
    - visual_development_task
    - copywriting_task
    - production_planning_task
    - concept_handover_task